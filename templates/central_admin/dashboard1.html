<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscriber Panel Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .mobile-container {
            max-width: 375px;
            margin: 0 auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
        }
        
        .desktop-container {
            display: flex;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .main-content {
            flex: 1;
            overflow-y: auto;
        }
        
        .content-area {
            padding-bottom: 80px;
            min-height: calc(100vh - 80px);
        }
        
        .desktop-content-area {
            padding: 2rem;
            min-height: 100vh;
        }
        
        .nav-item.active {
            color: #667eea;
            transform: translateY(-2px);
        }
        
        .nav-item.active svg {
            filter: drop-shadow(0 0 8px rgba(102, 126, 234, 0.6));
        }
        
        .sidebar-nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .sidebar-nav-item.active svg {
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
        }
        
        .card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .popup-overlay {
            backdrop-filter: blur(5px);
            background: rgba(0, 0, 0, 0.3);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        @media (min-width: 768px) {
            .mobile-container {
                display: none;
            }
        }
        
        @media (max-width: 767px) {
            .desktop-container {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Desktop Layout -->
    <div class="desktop-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="p-6">
                <div class="flex items-center mb-8">
                    <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-3">
                        <span class="text-white font-semibold">JD</span>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-gray-800">John Doe</h1>
                        <p class="text-sm text-gray-600">Premium Subscriber</p>
                    </div>
                </div>
                
                <nav class="space-y-2">
                    <button onclick="showDesktopPage('home')" class="sidebar-nav-item active w-full flex items-center p-3 rounded-lg text-left transition-all duration-200">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                        </svg>
                        Dashboard
                    </button>
                    
                    <button onclick="showDesktopPage('analytics')" class="sidebar-nav-item w-full flex items-center p-3 rounded-lg text-left text-gray-600 hover:bg-gray-100 transition-all duration-200">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                        </svg>
                        Analytics
                    </button>
                    
                    <button onclick="showDesktopPage('subscription')" class="sidebar-nav-item w-full flex items-center p-3 rounded-lg text-left text-gray-600 hover:bg-gray-100 transition-all duration-200">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 0a1 1 0 100 2h.01a1 1 0 100-2H9zm2 0a1 1 0 100 2h.01a1 1 0 100-2H11z" clip-rule="evenodd"/>
                        </svg>
                        Subscription
                    </button>
                    
                    <button onclick="showDesktopPage('tickets')" class="sidebar-nav-item w-full flex items-center p-3 rounded-lg text-left text-gray-600 hover:bg-gray-100 transition-all duration-200">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                        </svg>
                        Support Tickets
                    </button>
                    
                    <button onclick="showDesktopPage('profile')" class="sidebar-nav-item w-full flex items-center p-3 rounded-lg text-left text-gray-600 hover:bg-gray-100 transition-all duration-200">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                        </svg>
                        Profile
                    </button>
                </nav>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="desktop-content-area" id="desktopContentArea">
                <!-- Desktop Home Page (Default) -->
                <div id="desktopHomePage" class="desktop-page-content">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">Dashboard</h1>
                        <p class="text-white/80">Welcome back, John! Here's your lead overview.</p>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-blue-600 mb-1">80</div>
                                    <div class="text-sm text-gray-600">Total Leads</div>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-green-600 mb-1">65</div>
                                    <div class="text-sm text-gray-600">Converted</div>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-yellow-600 mb-1">12</div>
                                    <div class="text-sm text-gray-600">Pending</div>
                                </div>
                                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-purple-600 mb-1">20</div>
                                    <div class="text-sm text-gray-600">Remaining</div>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Search and Filter Section -->
                    <div class="card rounded-xl p-6 shadow-lg mb-6">
                        <div class="mb-4">
                            <h2 class="text-xl font-semibold text-gray-800">Lead Management</h2>
                        </div>
                        
                        <!-- Search Bar -->
                        <div class="mb-4">
                            <div class="relative">
                                <input type="text" id="searchInput" placeholder="Search by lead name..." class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onkeyup="filterLeads()">
                                <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                        </div>
                        
                        <!-- Filter Options -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Filter by Status</label>
                                <select id="statusFilter" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="filterLeads()">
                                    <option value="">All Status</option>
                                    <option value="Active">Active</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Contacted">Contacted</option>
                                    <option value="Converted">Converted</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">From Date</label>
                                <input type="date" id="fromDate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="filterLeads()">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">To Date</label>
                                <input type="date" id="toDate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="filterLeads()">
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <button onclick="clearFilters()" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all">
                                Clear Filters
                            </button>
                            <button onclick="exportLeads()" class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all">
                                Export Data
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stage-based Lead Buckets -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6" id="leadsBuckets">
                        <!-- Active Leads Bucket -->
                        <div class="card rounded-xl p-4 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                    <h3 class="font-semibold text-gray-800">Active</h3>
                                </div>
                                <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full" id="activeCount">0</span>
                            </div>
                            <div class="space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto" id="activeBucket" ondrop="drop(event, 'Active')" ondragover="allowDrop(event)">
                                <!-- Active leads will be populated here -->
                            </div>
                        </div>
                        
                        <!-- Pending Leads Bucket -->
                        <div class="card rounded-xl p-4 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></div>
                                    <h3 class="font-semibold text-gray-800">Pending</h3>
                                </div>
                                <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full" id="pendingCount">0</span>
                            </div>
                            <div class="space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto" id="pendingBucket" ondrop="drop(event, 'Pending')" ondragover="allowDrop(event)">
                                <!-- Pending leads will be populated here -->
                            </div>
                        </div>
                        
                        <!-- Contacted Leads Bucket -->
                        <div class="card rounded-xl p-4 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full mr-2"></div>
                                    <h3 class="font-semibold text-gray-800">Contacted</h3>
                                </div>
                                <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full" id="contactedCount">0</span>
                            </div>
                            <div class="space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto" id="contactedBucket" ondrop="drop(event, 'Contacted')" ondragover="allowDrop(event)">
                                <!-- Contacted leads will be populated here -->
                            </div>
                        </div>
                        
                        <!-- Converted Leads Bucket -->
                        <div class="card rounded-xl p-4 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-purple-500 rounded-full mr-2"></div>
                                    <h3 class="font-semibold text-gray-800">Converted</h3>
                                </div>
                                <span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full" id="convertedCount">0</span>
                            </div>
                            <div class="space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto" id="convertedBucket" ondrop="drop(event, 'Converted')" ondragover="allowDrop(event)">
                                <!-- Converted leads will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Desktop Analytics Page -->
                <div id="desktopAnalyticsPage" class="desktop-page-content hidden">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">Analytics</h1>
                        <p class="text-white/80">Track your lead performance and conversion rates.</p>
                    </div>
                    
                    <!-- Stats Overview -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-blue-600 mb-1">80</div>
                                    <div class="text-sm text-gray-600">Total Leads</div>
                                    <div class="text-xs text-green-600 mt-1">↑ 12% from last month</div>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-green-600 mb-1">65</div>
                                    <div class="text-sm text-gray-600">Converted</div>
                                    <div class="text-xs text-green-600 mt-1">↑ 8% from last month</div>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-yellow-600 mb-1">12</div>
                                    <div class="text-sm text-gray-600">Pending</div>
                                    <div class="text-xs text-red-600 mt-1">↓ 3% from last month</div>
                                </div>
                                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-yellow-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between">
                                <div>
                                    <div class="text-2xl font-bold text-purple-600 mb-1">81%</div>
                                    <div class="text-sm text-gray-600">Success Rate</div>
                                    <div class="text-xs text-green-600 mt-1">↑ 5% from last month</div>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <!-- Performance Chart -->
                        <div class="card rounded-xl p-6 shadow-lg">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Lead Performance Trend</h3>
                            <div style="height: 300px;">
                                <canvas id="desktopPerformanceChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Industry Distribution -->
                        <div class="card rounded-xl p-6 shadow-lg">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Industry Distribution</h3>
                            <div style="height: 300px;">
                                <canvas id="industryChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Top Industries -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div class="card rounded-xl p-6 shadow-lg">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Top Industries</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                                        <span class="text-gray-700">Real Estate</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">31%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                                        <span class="text-gray-700">Insurance</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">25%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-yellow-500 rounded-full mr-3"></div>
                                        <span class="text-gray-700">Technology</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">22%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-purple-500 rounded-full mr-3"></div>
                                        <span class="text-gray-700">Healthcare</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">15%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
                                        <span class="text-gray-700">Education</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">6%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Monthly Trends -->
                        <div class="card rounded-xl p-6 shadow-lg">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Monthly Trends</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div>
                                        <div class="font-medium text-gray-800">December 2024</div>
                                        <div class="text-sm text-gray-600">Current Month</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-semibold text-gray-800">25 leads</div>
                                        <div class="text-xs text-green-600">↑ 12%</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div>
                                        <div class="font-medium text-gray-800">November 2024</div>
                                        <div class="text-sm text-gray-600">Previous Month</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-semibold text-gray-800">22 leads</div>
                                        <div class="text-xs text-green-600">↑ 8%</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div>
                                        <div class="font-medium text-gray-800">October 2024</div>
                                        <div class="text-sm text-gray-600">2 months ago</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-semibold text-gray-800">20 leads</div>
                                        <div class="text-xs text-red-600">↓ 5%</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                    <div>
                                        <div class="font-medium text-gray-800">September 2024</div>
                                        <div class="text-sm text-gray-600">3 months ago</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-semibold text-gray-800">18 leads</div>
                                        <div class="text-xs text-green-600">↑ 3%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conversion Rates by Industry -->
                    <div class="card rounded-xl p-6 shadow-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Conversion Rates by Industry</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-700">Real Estate</span>
                                    <span class="font-semibold text-gray-800">85%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-600 h-2 rounded-full" style="width: 85%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-700">Insurance</span>
                                    <span class="font-semibold text-gray-800">78%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-600 h-2 rounded-full" style="width: 78%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-700">Technology</span>
                                    <span class="font-semibold text-gray-800">82%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-yellow-600 h-2 rounded-full" style="width: 82%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-700">Healthcare</span>
                                    <span class="font-semibold text-gray-800">75%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-purple-600 h-2 rounded-full" style="width: 75%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-700">Education</span>
                                    <span class="font-semibold text-gray-800">70%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-red-600 h-2 rounded-full" style="width: 70%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="desktopSubscriptionPage" class="desktop-page-content hidden">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">Subscription</h1>
                        <p class="text-white/80">Manage your subscription and billing details.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Current Plan -->
                        <div class="card rounded-xl p-8 shadow-lg">
                            <div class="text-center mb-6">
                                <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <h3 class="text-2xl font-bold text-gray-800">Premium Plan</h3>
                                <p class="text-gray-600">Active Subscription</p>
                                <div class="mt-4">
                                    <span class="text-3xl font-bold text-blue-600">$99</span>
                                    <span class="text-gray-600">/month</span>
                                </div>
                            </div>
                            
                            <div class="space-y-4">
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700 font-medium">Total Leads Assigned</span>
                                    <span class="font-bold text-gray-800">80</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700 font-medium">Remaining Leads</span>
                                    <span class="font-bold text-blue-600">20</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700 font-medium">Plan Validity</span>
                                    <span class="font-bold text-gray-800">Dec 31, 2024</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700 font-medium">Auto Renewal</span>
                                    <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full font-medium">Enabled</span>
                                </div>
                                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                                    <span class="text-gray-700 font-medium">Next Billing</span>
                                    <span class="font-bold text-gray-800">Jan 1, 2025</span>
                                </div>
                            </div>
                            
                            <div class="mt-6 space-y-3">
                                <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all">
                                    Upgrade Plan
                                </button>
                                <button class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-all">
                                    Manage Billing
                                </button>
                            </div>
                        </div>
                        
                        <!-- Plan Features -->
                        <div class="card rounded-xl p-8 shadow-lg">
                            <h3 class="text-xl font-bold text-gray-800 mb-6">Plan Features</h3>
                            
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">100 Leads per month</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">Advanced Analytics</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">Priority Support</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">Export Data</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">Custom Filters</span>
                                </div>
                                <div class="flex items-center">
                                    <svg class="w-5 h-5 text-green-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-gray-700">API Access</span>
                                </div>
                            </div>
                            
                            <div class="mt-8 p-4 bg-blue-50 rounded-lg">
                                <h4 class="font-semibold text-blue-800 mb-2">Usage This Month</h4>
                                <div class="w-full bg-blue-200 rounded-full h-2">
                                    <div class="bg-blue-600 h-2 rounded-full" style="width: 80%"></div>
                                </div>
                                <p class="text-sm text-blue-700 mt-2">80 of 100 leads used</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Billing History -->
                    <div class="card rounded-xl p-8 shadow-lg mt-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Billing History</h3>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">Date</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">Description</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">Amount</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">Status</th>
                                        <th class="text-left py-3 px-4 font-semibold text-gray-700">Invoice</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-4 text-gray-800">Dec 1, 2024</td>
                                        <td class="py-3 px-4 text-gray-600">Premium Plan - Monthly</td>
                                        <td class="py-3 px-4 text-gray-800 font-semibold">$99.00</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Paid</span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button class="text-blue-600 hover:text-blue-800 text-sm">Download</button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-4 text-gray-800">Nov 1, 2024</td>
                                        <td class="py-3 px-4 text-gray-600">Premium Plan - Monthly</td>
                                        <td class="py-3 px-4 text-gray-800 font-semibold">$99.00</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Paid</span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button class="text-blue-600 hover:text-blue-800 text-sm">Download</button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-100">
                                        <td class="py-3 px-4 text-gray-800">Oct 1, 2024</td>
                                        <td class="py-3 px-4 text-gray-600">Premium Plan - Monthly</td>
                                        <td class="py-3 px-4 text-gray-800 font-semibold">$99.00</td>
                                        <td class="py-3 px-4">
                                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Paid</span>
                                        </td>
                                        <td class="py-3 px-4">
                                            <button class="text-blue-600 hover:text-blue-800 text-sm">Download</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div id="desktopTicketsPage" class="desktop-page-content hidden">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">Support Tickets</h1>
                        <p class="text-white/80">Get help and track your support requests.</p>
                    </div>
                    
                    <div class="mb-6">
                        <button onclick="raiseTicket()" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all">
                            + Raise New Ticket
                        </button>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-800">Lead Assignment Issue</h4>
                                    <p class="text-sm text-gray-600">Ticket #12345</p>
                                </div>
                                <span class="px-3 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full">In Progress</span>
                            </div>
                            <p class="text-gray-600 mb-4">Unable to assign leads to my account. Getting error message when trying to submit new lead assignments.</p>
                            <div class="flex justify-between items-center text-sm text-gray-500">
                                <span>Created: Dec 15, 2024</span>
                                <span>Priority: High</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <div class="flex items-center text-sm text-gray-600">
                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                    Assigned to: Support Team
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-800">Subscription Query</h4>
                                    <p class="text-sm text-gray-600">Ticket #12344</p>
                                </div>
                                <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">Resolved</span>
                            </div>
                            <p class="text-gray-600 mb-4">Question about plan upgrade options and pricing details for premium features.</p>
                            <div class="flex justify-between items-center text-sm text-gray-500">
                                <span>Created: Dec 12, 2024</span>
                                <span>Priority: Medium</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <div class="flex items-center text-sm text-gray-600">
                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                    Resolved by: John Smith
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-800">Technical Issue</h4>
                                    <p class="text-sm text-gray-600">Ticket #12343</p>
                                </div>
                                <span class="px-3 py-1 bg-red-100 text-red-800 text-sm rounded-full">Open</span>
                            </div>
                            <p class="text-gray-600 mb-4">Dashboard not loading properly on mobile device. Page keeps refreshing automatically.</p>
                            <div class="flex justify-between items-center text-sm text-gray-500">
                                <span>Created: Dec 10, 2024</span>
                                <span>Priority: High</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <div class="flex items-center text-sm text-gray-600">
                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                    Assigned to: Tech Support
                                </div>
                            </div>
                        </div>
                        
                        <div class="card rounded-xl p-6 shadow-lg">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h4 class="text-lg font-semibold text-gray-800">Feature Request</h4>
                                    <p class="text-sm text-gray-600">Ticket #12342</p>
                                </div>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full">Under Review</span>
                            </div>
                            <p class="text-gray-600 mb-4">Request to add bulk lead import functionality via CSV file upload.</p>
                            <div class="flex justify-between items-center text-sm text-gray-500">
                                <span>Created: Dec 8, 2024</span>
                                <span>Priority: Low</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <div class="flex items-center text-sm text-gray-600">
                                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                    Assigned to: Product Team
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="desktopProfilePage" class="desktop-page-content hidden">
                    <div class="mb-6">
                        <h1 class="text-3xl font-bold text-white mb-2">Profile</h1>
                        <p class="text-white/80">Manage your account settings and preferences.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Profile Information -->
                        <div class="card rounded-xl p-8 shadow-lg">
                            <div class="text-center mb-8">
                                <div class="w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span class="text-white text-3xl font-bold">JD</span>
                                </div>
                                <h3 class="text-2xl font-bold text-gray-800">John Doe</h3>
                                <p class="text-gray-600">Premium Subscriber</p>
                                <span class="inline-block mt-2 px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full">Active Account</span>
                            </div>
                            
                            <div class="space-y-4">
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                                    </svg>
                                    <div class="flex-1">
                                        <div class="text-sm text-gray-600">Email Address</div>
                                        <div class="font-medium text-gray-800">john.doe@email.com</div>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm">Edit</button>
                                </div>
                                
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                                    </svg>
                                    <div class="flex-1">
                                        <div class="text-sm text-gray-600">Phone Number</div>
                                        <div class="font-medium text-gray-800">+1 234-567-8900</div>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm">Edit</button>
                                </div>
                                
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                                    </svg>
                                    <div class="flex-1">
                                        <div class="text-sm text-gray-600">Location</div>
                                        <div class="font-medium text-gray-800">New York, USA</div>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm">Edit</button>
                                </div>
                                
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                                    </svg>
                                    <div class="flex-1">
                                        <div class="text-sm text-gray-600">Member Since</div>
                                        <div class="font-medium text-gray-800">January 15, 2024</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                                    <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-4 4-4-4 4-4 .257-.257A6 6 0 1118 8zm-6-2a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd"/>
                                    </svg>
                                    <div class="flex-1">
                                        <div class="text-sm text-gray-600">Time Zone</div>
                                        <div class="font-medium text-gray-800">EST (UTC-5)</div>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm">Edit</button>
                                </div>
                            </div>
                            
                            <div class="mt-8 space-y-3">
                                <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all">
                                    Update Profile
                                </button>
                                <button class="w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-all">
                                    Change Password
                                </button>
                            </div>
                        </div>
                        
                        <!-- Account Settings -->
                        <div class="space-y-6">
                            <!-- Preferences -->
                            <div class="card rounded-xl p-6 shadow-lg">
                                <h3 class="text-lg font-bold text-gray-800 mb-4">Preferences</h3>
                                
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="font-medium text-gray-800">Email Notifications</div>
                                            <div class="text-sm text-gray-600">Receive updates about new leads</div>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" checked class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                        </label>
                                    </div>
                                    
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="font-medium text-gray-800">SMS Notifications</div>
                                            <div class="text-sm text-gray-600">Get text alerts for urgent updates</div>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                        </label>
                                    </div>
                                    
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="font-medium text-gray-800">Marketing Emails</div>
                                            <div class="text-sm text-gray-600">Receive promotional content</div>
                                        </div>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input type="checkbox" checked class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Security -->
                            <div class="card rounded-xl p-6 shadow-lg">
                                <h3 class="text-lg font-bold text-gray-800 mb-4">Security</h3>
                                
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div>
                                            <div class="font-medium text-gray-800">Two-Factor Authentication</div>
                                            <div class="text-sm text-gray-600">Add extra security to your account</div>
                                        </div>
                                        <button class="px-4 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600 transition-all">
                                            Enable
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div>
                                            <div class="font-medium text-gray-800">Login Sessions</div>
                                            <div class="text-sm text-gray-600">Manage active sessions</div>
                                        </div>
                                        <button class="px-4 py-2 bg-gray-500 text-white rounded-lg text-sm hover:bg-gray-600 transition-all">
                                            View
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                        <div>
                                            <div class="font-medium text-gray-800">Download Data</div>
                                            <div class="text-sm text-gray-600">Export your account data</div>
                                        </div>
                                        <button class="px-4 py-2 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600 transition-all">
                                            Download
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Account Actions -->
                            <div class="card rounded-xl p-6 shadow-lg">
                                <h3 class="text-lg font-bold text-gray-800 mb-4">Account Actions</h3>
                                
                                <div class="space-y-3">
                                    <button class="w-full text-left p-3 bg-yellow-50 text-yellow-800 rounded-lg hover:bg-yellow-100 transition-all">
                                        <div class="font-medium">Deactivate Account</div>
                                        <div class="text-sm">Temporarily disable your account</div>
                                    </button>
                                    
                                    <button class="w-full text-left p-3 bg-red-50 text-red-800 rounded-lg hover:bg-red-100 transition-all">
                                        <div class="font-medium">Delete Account</div>
                                        <div class="text-sm">Permanently remove your account</div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Layout -->
    <div class="mobile-container">
        <!-- Header -->
        <div class="bg-white/90 backdrop-blur-md p-4 shadow-sm">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-xl font-bold text-gray-800">Subscriber Panel</h1>
                    <p class="text-sm text-gray-600">Welcome back, John!</p>
                </div>
                <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                    <span class="text-white font-semibold">JD</span>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area p-4" id="contentArea">
            <!-- Home Page (Default) -->
            <div id="homePage" class="page-content">
                <div class="mb-4">
                    <div class="card rounded-xl p-4 shadow-lg mb-4">
                        <div class="mb-3">
                            <h2 class="text-lg font-semibold text-gray-800">Assigned Leads</h2>
                        </div>
                        <div class="text-2xl font-bold text-blue-600 mb-1">80</div>
                        <div class="text-sm text-gray-600">Leads Remaining: 20 / 100</div>
                    </div>
                </div>

                <!-- Search and Filter -->
                <div class="card rounded-xl p-4 shadow-lg mb-4">
                    <div class="mb-3">
                        <div class="relative">
                            <input type="text" id="mobileSearchInput" placeholder="Search leads..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm" onkeyup="filterMobileLeads()">
                            <svg class="w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <select id="mobileStatusFilter" class="w-full p-2 border border-gray-300 rounded-lg text-sm" onchange="filterMobileLeads()">
                            <option value="">All Status</option>
                            <option value="Active">Active</option>
                            <option value="Pending">Pending</option>
                            <option value="Contacted">Contacted</option>
                            <option value="Converted">Converted</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-2 mb-3">
                        <input type="date" id="mobileFromDate" class="p-2 border border-gray-300 rounded-lg text-sm" onchange="filterMobileLeads()">
                        <input type="date" id="mobileToDate" class="p-2 border border-gray-300 rounded-lg text-sm" onchange="filterMobileLeads()">
                    </div>
                    
                    <button onclick="clearMobileFilters()" class="w-full px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-all">
                        Clear Filters
                    </button>
                </div>

                <!-- Recent Leads -->
                <div class="mb-3">
                    <h3 class="text-md font-semibold text-white mb-3">Recent Leads</h3>
                </div>
                
                <div class="space-y-3" id="mobileLeadsContainer">
                    <div class="lead-card card rounded-xl p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all" data-name="Sarah Johnson" data-industry="Real Estate" data-status="Active" data-date="2024-12-15" onclick="openLeadDetails('Sarah Johnson', '+1 234-567-8901', 'Dec 15, 2024', 'Active', 'sarah.johnson@email.com', 'Real Estate', 'Interested in buying a 3BHK apartment')">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium text-gray-800">Sarah Johnson</div>
                                <div class="text-sm text-gray-600">+1 234-567-8901</div>
                                <div class="text-xs text-gray-500 mt-1">Assigned: Dec 15, 2024</div>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Active</span>
                        </div>
                    </div>
                    
                    <div class="lead-card card rounded-xl p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all" data-name="Mike Chen" data-industry="Insurance" data-status="Pending" data-date="2024-12-14" onclick="openLeadDetails('Mike Chen', '+1 234-567-8902', 'Dec 14, 2024', 'Pending', 'mike.chen@email.com', 'Insurance', 'Looking for health insurance plans')">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium text-gray-800">Mike Chen</div>
                                <div class="text-sm text-gray-600">+1 234-567-8902</div>
                                <div class="text-xs text-gray-500 mt-1">Assigned: Dec 14, 2024</div>
                            </div>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">Pending</span>
                        </div>
                    </div>
                    
                    <div class="lead-card card rounded-xl p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all" data-name="Emma Davis" data-industry="Education" data-status="Contacted" data-date="2024-12-13" onclick="openLeadDetails('Emma Davis', '+1 234-567-8903', 'Dec 13, 2024', 'Contacted', 'emma.davis@email.com', 'Education', 'Interested in online courses')">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium text-gray-800">Emma Davis</div>
                                <div class="text-sm text-gray-600">+1 234-567-8903</div>
                                <div class="text-xs text-gray-500 mt-1">Assigned: Dec 13, 2024</div>
                            </div>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">Contacted</span>
                        </div>
                    </div>
                    
                    <div class="lead-card card rounded-xl p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all" data-name="Alex Rodriguez" data-industry="Technology" data-status="Converted" data-date="2024-12-12" onclick="openLeadDetails('Alex Rodriguez', '+1 234-567-8904', 'Dec 12, 2024', 'Converted', 'alex.rodriguez@email.com', 'Technology', 'Interested in software solutions')">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium text-gray-800">Alex Rodriguez</div>
                                <div class="text-sm text-gray-600">+1 234-567-8904</div>
                                <div class="text-xs text-gray-500 mt-1">Assigned: Dec 12, 2024</div>
                            </div>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full">Converted</span>
                        </div>
                    </div>
                    
                    <div class="lead-card card rounded-xl p-4 shadow-lg cursor-pointer hover:shadow-xl transition-all" data-name="Lisa Wang" data-industry="Healthcare" data-status="Active" data-date="2024-12-11" onclick="openLeadDetails('Lisa Wang', '+1 234-567-8905', 'Dec 11, 2024', 'Active', 'lisa.wang@email.com', 'Healthcare', 'Looking for medical equipment')">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium text-gray-800">Lisa Wang</div>
                                <div class="text-sm text-gray-600">+1 234-567-8905</div>
                                <div class="text-xs text-gray-500 mt-1">Assigned: Dec 11, 2024</div>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Active</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analyticsPage" class="page-content hidden">
                <div class="mb-4">
                    <h2 class="text-xl font-bold text-white mb-4">Analytics</h2>
                </div>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="card rounded-xl p-4 shadow-lg text-center">
                        <div class="text-2xl font-bold text-blue-600">80</div>
                        <div class="text-sm text-gray-600">Total Leads</div>
                    </div>
                    <div class="card rounded-xl p-4 shadow-lg text-center">
                        <div class="text-2xl font-bold text-green-600">65</div>
                        <div class="text-sm text-gray-600">Converted</div>
                    </div>
                    <div class="card rounded-xl p-4 shadow-lg text-center">
                        <div class="text-2xl font-bold text-yellow-600">12</div>
                        <div class="text-sm text-gray-600">Pending</div>
                    </div>
                    <div class="card rounded-xl p-4 shadow-lg text-center">
                        <div class="text-2xl font-bold text-purple-600">81%</div>
                        <div class="text-sm text-gray-600">Success Rate</div>
                    </div>
                </div>

                <!-- Chart -->
                <div class="card rounded-xl p-4 shadow-lg">
                    <h3 class="text-md font-semibold text-gray-800 mb-3">Lead Performance</h3>
                    <canvas id="performanceChart" width="300" height="200"></canvas>
                </div>
            </div>

            <!-- Subscription Page -->
            <div id="subscriptionPage" class="page-content hidden">
                <div class="mb-4">
                    <h2 class="text-xl font-bold text-white mb-4">My Subscription</h2>
                </div>
                
                <div class="card rounded-xl p-6 shadow-lg mb-4">
                    <div class="text-center mb-4">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Premium Plan</h3>
                        <p class="text-sm text-gray-600">Active Subscription</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                            <span class="text-gray-600">Total Leads Assigned</span>
                            <span class="font-semibold text-gray-800">80</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                            <span class="text-gray-600">Remaining Leads</span>
                            <span class="font-semibold text-blue-600">20</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                            <span class="text-gray-600">Validity Date</span>
                            <span class="font-semibold text-gray-800">Dec 31, 2024</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                            <span class="text-gray-600">Plan Status</span>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium">Active</span>
                        </div>
                    </div>
                </div>

                <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-medium hover:shadow-lg transition-all">
                    Upgrade Plan
                </button>
            </div>

            <!-- Tickets Page -->
            <div id="ticketsPage" class="page-content hidden">
                <div class="mb-4">
                    <h2 class="text-xl font-bold text-white mb-4">Support Tickets</h2>
                </div>
                
                <div class="mb-4">
                    <button onclick="raiseTicket()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-medium hover:shadow-lg transition-all">
                        + Raise a Ticket
                    </button>
                </div>

                <div class="space-y-3">
                    <div class="card rounded-xl p-4 shadow-lg">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="font-semibold text-gray-800">Lead Assignment Issue</h4>
                                <p class="text-sm text-gray-600">Ticket #12345</p>
                            </div>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full">In Progress</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">Unable to assign leads to my account...</p>
                        <div class="text-xs text-gray-500">Created: Dec 15, 2024</div>
                    </div>
                    
                    <div class="card rounded-xl p-4 shadow-lg">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="font-semibold text-gray-800">Subscription Query</h4>
                                <p class="text-sm text-gray-600">Ticket #12344</p>
                            </div>
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Resolved</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">Question about plan upgrade options...</p>
                        <div class="text-xs text-gray-500">Created: Dec 12, 2024</div>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profilePage" class="page-content hidden">
                <div class="mb-4">
                    <h2 class="text-xl font-bold text-white mb-4">Profile</h2>
                </div>
                
                <div class="card rounded-xl p-6 shadow-lg">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-white text-2xl font-bold">JD</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">John Doe</h3>
                        <p class="text-sm text-gray-600">Premium Subscriber</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Email</div>
                                <div class="font-medium text-gray-800">john.doe@email.com</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Phone</div>
                                <div class="font-medium text-gray-800">+1 234-567-8900</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Member Since</div>
                                <div class="font-medium text-gray-800">January 2024</div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="w-full mt-6 bg-gray-100 text-gray-700 py-3 rounded-xl font-medium hover:bg-gray-200 transition-all">
                        Edit Profile
                    </button>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-[375px] bg-white/95 backdrop-blur-md border-t border-gray-200">
            <div class="flex justify-around py-2">
                <button onclick="showPage('home')" class="nav-item active flex flex-col items-center p-2 transition-all duration-200">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                    </svg>
                    <span class="text-xs">Home</span>
                </button>
                
                <button onclick="showPage('analytics')" class="nav-item flex flex-col items-center p-2 text-gray-500 transition-all duration-200">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                    </svg>
                    <span class="text-xs">Analytics</span>
                </button>
                
                <button onclick="showPage('subscription')" class="nav-item flex flex-col items-center p-2 text-gray-500 transition-all duration-200">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 0a1 1 0 100 2h.01a1 1 0 100-2H9zm2 0a1 1 0 100 2h.01a1 1 0 100-2H11z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-xs">Subscription</span>
                </button>
                
                <button onclick="showPage('tickets')" class="nav-item flex flex-col items-center p-2 text-gray-500 transition-all duration-200">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-xs">Tickets</span>
                </button>
                
                <button onclick="showPage('profile')" class="nav-item flex flex-col items-center p-2 text-gray-500 transition-all duration-200">
                    <svg class="w-6 h-6 mb-1" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-xs">Profile</span>
                </button>
            </div>
        </div>

        <!-- Lead Details Popup -->
        <div id="leadDetailsPopup" class="fixed inset-0 popup-overlay hidden flex items-center justify-center p-4 z-50">
            <div class="card rounded-xl p-6 w-full max-w-sm shadow-2xl slide-up">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Lead Details</h3>
                    <button onclick="closeLeadDetails()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div class="text-center mb-4">
                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-white text-xl font-bold" id="leadInitials">SJ</span>
                        </div>
                        <h4 class="text-lg font-bold text-gray-800" id="leadName">Sarah Johnson</h4>
                        <span class="px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full" id="leadStatus">Active</span>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Phone</div>
                                <div class="font-medium text-gray-800" id="leadPhone">+1 234-567-8901</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Email</div>
                                <div class="font-medium text-gray-800" id="leadEmail">sarah.johnson@email.com</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Assigned Date</div>
                                <div class="font-medium text-gray-800" id="leadDate">Dec 15, 2024</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                            <svg class="w-5 h-5 text-gray-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2v1h12V6H4zm0 3v5h12V9H4z" clip-rule="evenodd"/>
                            </svg>
                            <div>
                                <div class="text-sm text-gray-600">Category</div>
                                <div class="font-medium text-gray-800" id="leadCategory">Real Estate</div>
                            </div>
                        </div>
                        
                        <div class="p-3 bg-gray-50 rounded-lg">
                            <div class="text-sm text-gray-600 mb-1">Notes</div>
                            <div class="text-sm text-gray-800" id="leadNotes">Interested in buying a 3BHK apartment</div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 mt-6">
                        <button onclick="callLead()" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium hover:bg-green-600 transition-all flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            Call
                        </button>
                        <button onclick="messageLead()" class="flex-1 bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-all flex items-center justify-center">
                            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            Email
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Desktop Lead Details Popup -->
        <div id="desktopLeadDetailsPopup" class="fixed inset-0 popup-overlay hidden flex items-center justify-center p-4 z-50">
            <div class="card rounded-xl p-8 w-full max-w-md shadow-2xl slide-up">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Lead Details</h3>
                    <button onclick="closeDesktopLeadDetails()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-white text-2xl font-bold" id="desktopLeadInitials">SJ</span>
                        </div>
                        <h4 class="text-xl font-bold text-gray-800" id="desktopLeadName">Sarah Johnson</h4>
                        <span class="px-4 py-2 bg-green-100 text-green-800 text-sm rounded-full font-medium" id="desktopLeadStatus">Active</span>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            <div class="flex-1">
                                <div class="text-sm text-gray-600">Phone Number</div>
                                <div class="font-medium text-gray-800" id="desktopLeadPhone">+1 234-567-8901</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            <div class="flex-1">
                                <div class="text-sm text-gray-600">Email Address</div>
                                <div class="font-medium text-gray-800" id="desktopLeadEmail">sarah.johnson@email.com</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                            </svg>
                            <div class="flex-1">
                                <div class="text-sm text-gray-600">Assigned Date</div>
                                <div class="font-medium text-gray-800" id="desktopLeadDate">Dec 15, 2024</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-4 bg-gray-50 rounded-lg">
                            <svg class="w-6 h-6 text-gray-500 mr-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2v1h12V6H4zm0 3v5h12V9H4z" clip-rule="evenodd"/>
                            </svg>
                            <div class="flex-1">
                                <div class="text-sm text-gray-600">Industry</div>
                                <div class="font-medium text-gray-800" id="desktopLeadCategory">Real Estate</div>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-gray-50 rounded-lg">
                            <div class="text-sm text-gray-600 mb-2">Notes</div>
                            <div class="text-sm text-gray-800" id="desktopLeadNotes">Interested in buying a 3BHK apartment</div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4 mt-8">
                        <button onclick="callDesktopLead()" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium hover:bg-green-600 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                            </svg>
                            Call Lead
                        </button>
                        <button onclick="messageDesktopLead()" class="flex-1 bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            Send Email
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Assign Lead Popup -->
        <div id="assignLeadPopup" class="fixed inset-0 popup-overlay hidden flex items-center justify-center p-4 z-50">
            <div class="card rounded-xl p-6 w-full max-w-sm shadow-2xl slide-up">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold text-gray-800">Assign New Lead</h3>
                    <button onclick="closeAssignLeadPopup()" class="text-gray-500 hover:text-gray-700">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
                
                <form onsubmit="submitLead(event)" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Lead Name</label>
                        <input type="text" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter lead name">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Contact Number</label>
                        <input type="tel" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+1 234-567-8900">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Assigned Date</label>
                        <input type="date" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                        <select required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">Select status</option>
                            <option value="active">Active</option>
                            <option value="pending">Pending</option>
                            <option value="contacted">Contacted</option>
                            <option value="converted">Converted</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all">
                        Submit Lead
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        let currentPage = 'home';
        let currentDesktopPage = 'home';
        let chart = null;
        
        // Sample leads data
        const leadsData = [
            { name: 'Sarah Johnson', phone: '+1 234-567-8901', email: 'sarah.johnson@email.com', industry: 'Real Estate', status: 'Active', date: '2024-12-15', notes: 'Interested in buying a 3BHK apartment' },
            { name: 'Mike Chen', phone: '+1 234-567-8902', email: 'mike.chen@email.com', industry: 'Insurance', status: 'Pending', date: '2024-12-14', notes: 'Looking for health insurance plans' },
            { name: 'Emma Davis', phone: '+1 234-567-8903', email: 'emma.davis@email.com', industry: 'Education', status: 'Contacted', date: '2024-12-13', notes: 'Interested in online courses' },
            { name: 'Alex Rodriguez', phone: '+1 234-567-8904', email: 'alex.rodriguez@email.com', industry: 'Technology', status: 'Converted', date: '2024-12-12', notes: 'Interested in software solutions' },
            { name: 'Lisa Wang', phone: '+1 234-567-8905', email: 'lisa.wang@email.com', industry: 'Healthcare', status: 'Active', date: '2024-12-11', notes: 'Looking for medical equipment' },
            { name: 'David Brown', phone: '+1 234-567-8906', email: 'david.brown@email.com', industry: 'Real Estate', status: 'Pending', date: '2024-12-10', notes: 'Commercial property investment' },
            { name: 'Maria Garcia', phone: '+1 234-567-8907', email: 'maria.garcia@email.com', industry: 'Insurance', status: 'Contacted', date: '2024-12-09', notes: 'Auto insurance renewal' },
            { name: 'James Wilson', phone: '+1 234-567-8908', email: 'james.wilson@email.com', industry: 'Technology', status: 'Active', date: '2024-12-08', notes: 'Cloud migration services' }
        ];

        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
            
            // Show selected page
            document.getElementById(page + 'Page').classList.remove('hidden');
            document.getElementById(page + 'Page').classList.add('fade-in');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                item.classList.add('text-gray-500');
            });
            
            event.target.closest('.nav-item').classList.add('active');
            event.target.closest('.nav-item').classList.remove('text-gray-500');
            
            currentPage = page;
            
            // Initialize chart for analytics page
            if (page === 'analytics') {
                setTimeout(initChart, 100);
            }
        }
        
        function initDesktopAnalytics() {
            // Initialize desktop performance chart
            const desktopCtx = document.getElementById('desktopPerformanceChart');
            if (desktopCtx) {
                new Chart(desktopCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Leads Converted',
                            data: [15, 18, 20, 18, 22, 25],
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0,0,0,0.1)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
            
            // Initialize industry distribution chart
            const industryCtx = document.getElementById('industryChart');
            if (industryCtx) {
                new Chart(industryCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Real Estate', 'Insurance', 'Technology', 'Healthcare', 'Education'],
                        datasets: [{
                            data: [25, 20, 18, 12, 5],
                            backgroundColor: [
                                '#3B82F6',
                                '#10B981',
                                '#F59E0B',
                                '#8B5CF6',
                                '#EF4444'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true
                                }
                            }
                        }
                    }
                });
            }
        }
        
        function showDesktopPage(page) {
            // Hide all desktop pages
            document.querySelectorAll('.desktop-page-content').forEach(p => p.classList.add('hidden'));
            
            // Show selected page
            document.getElementById('desktop' + page.charAt(0).toUpperCase() + page.slice(1) + 'Page').classList.remove('hidden');
            
            // Update sidebar navigation
            document.querySelectorAll('.sidebar-nav-item').forEach(item => {
                item.classList.remove('active');
                item.classList.add('text-gray-600', 'hover:bg-gray-100');
            });
            
            event.target.classList.add('active');
            event.target.classList.remove('text-gray-600', 'hover:bg-gray-100');
            
            currentDesktopPage = page;
            
            // Initialize leads grid for desktop home page
            if (page === 'home') {
                setTimeout(initDesktopLeads, 100);
            }
            
            // Initialize analytics charts for desktop analytics page
            if (page === 'analytics') {
                setTimeout(initDesktopAnalytics, 100);
            }
        }
        
        function initDesktopLeads() {
            renderDesktopLeads(leadsData);
        }
        
        function renderDesktopLeads(leads) {
            // Clear all buckets
            document.getElementById('activeBucket').innerHTML = '';
            document.getElementById('pendingBucket').innerHTML = '';
            document.getElementById('contactedBucket').innerHTML = '';
            document.getElementById('convertedBucket').innerHTML = '';
            
            // Count leads by status
            const statusCounts = {
                'Active': 0,
                'Pending': 0,
                'Contacted': 0,
                'Converted': 0
            };
            
            leads.forEach(lead => {
                statusCounts[lead.status]++;
                
                const leadCard = document.createElement('div');
                leadCard.className = 'card rounded-lg p-4 shadow-sm cursor-pointer hover:shadow-md transition-all bg-white border border-gray-200';
                leadCard.draggable = true;
                leadCard.dataset.leadId = lead.name;
                leadCard.dataset.currentStatus = lead.status;
                leadCard.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    openDesktopLeadDetails(lead.name, lead.phone, formatDate(lead.date), lead.status, lead.email, lead.industry, lead.notes);
                });
                
                leadCard.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', JSON.stringify(lead));
                });
                
                leadCard.innerHTML = `
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-3">
                            <span class="text-white text-xs font-semibold">${lead.name.split(' ').map(n => n[0]).join('')}</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="font-medium text-gray-800 text-sm truncate">${lead.name}</h4>
                            <p class="text-xs text-gray-600 truncate">${lead.industry}</p>
                        </div>
                    </div>
                    <div class="text-xs text-gray-500 mb-2">${lead.phone}</div>
                    <div class="text-xs text-gray-400">${formatDate(lead.date)}</div>
                `;
                
                // Add to appropriate bucket
                const bucketId = lead.status.toLowerCase() + 'Bucket';
                document.getElementById(bucketId).appendChild(leadCard);
            });
            
            // Update counts
            document.getElementById('activeCount').textContent = statusCounts.Active;
            document.getElementById('pendingCount').textContent = statusCounts.Pending;
            document.getElementById('contactedCount').textContent = statusCounts.Contacted;
            document.getElementById('convertedCount').textContent = statusCounts.Converted;
        }
        
        function dragStart(e, lead) {
            e.dataTransfer.setData('text/plain', JSON.stringify(lead));
        }
        
        function allowDrop(e) {
            e.preventDefault();
        }
        
        function drop(e, newStatus) {
            e.preventDefault();
            const leadData = JSON.parse(e.dataTransfer.getData('text/plain'));
            const leadCard = document.querySelector(`[data-lead-id="${leadData.name}"]`);
            
            if (leadCard && leadData.status !== newStatus) {
                // Update lead status in data
                const leadIndex = leadsData.findIndex(lead => lead.name === leadData.name);
                if (leadIndex !== -1) {
                    leadsData[leadIndex].status = newStatus;
                }
                
                // Re-render leads to update buckets
                renderDesktopLeads(leadsData);
                
                // Show success message
                showNotification(`${leadData.name} moved to ${newStatus}`, 'success');
            }
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-4 py-2 rounded-lg text-white text-sm font-medium transition-all duration-300 ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 'bg-blue-500'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }
        
        function filterLeads() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value;
            const fromDate = document.getElementById('fromDate').value;
            const toDate = document.getElementById('toDate').value;
            
            const filteredLeads = leadsData.filter(lead => {
                const matchesSearch = lead.name.toLowerCase().includes(searchTerm);
                const matchesStatus = !statusFilter || lead.status === statusFilter;
                const matchesDateRange = (!fromDate || lead.date >= fromDate) && (!toDate || lead.date <= toDate);
                
                return matchesSearch && matchesStatus && matchesDateRange;
            });
            
            renderDesktopLeads(filteredLeads);
        }
        
        function filterMobileLeads() {
            const searchTerm = document.getElementById('mobileSearchInput').value.toLowerCase();
            const statusFilter = document.getElementById('mobileStatusFilter').value;
            const fromDate = document.getElementById('mobileFromDate').value;
            const toDate = document.getElementById('mobileToDate').value;
            
            const leadCards = document.querySelectorAll('.lead-card');
            
            leadCards.forEach(card => {
                const name = card.dataset.name.toLowerCase();
                const status = card.dataset.status;
                const date = card.dataset.date;
                
                const matchesSearch = name.includes(searchTerm);
                const matchesStatus = !statusFilter || status === statusFilter;
                const matchesDateRange = (!fromDate || date >= fromDate) && (!toDate || date <= toDate);
                
                if (matchesSearch && matchesStatus && matchesDateRange) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('fromDate').value = '';
            document.getElementById('toDate').value = '';
            renderDesktopLeads(leadsData);
        }
        
        function clearMobileFilters() {
            document.getElementById('mobileSearchInput').value = '';
            document.getElementById('mobileStatusFilter').value = '';
            document.getElementById('mobileFromDate').value = '';
            document.getElementById('mobileToDate').value = '';
            
            document.querySelectorAll('.lead-card').forEach(card => {
                card.style.display = 'block';
            });
        }
        
        function exportLeads() {
            alert('Export functionality would download a CSV file with all lead data.');
        }

        function initChart() {
            const ctx = document.getElementById('performanceChart');
            if (chart) {
                chart.destroy();
            }
            
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Leads Converted',
                        data: [12, 19, 15, 25, 22, 30],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function openAssignLeadPopup() {
            document.getElementById('assignLeadPopup').classList.remove('hidden');
        }

        function closeAssignLeadPopup() {
            document.getElementById('assignLeadPopup').classList.add('hidden');
        }

        function submitLead(event) {
            event.preventDefault();
            
            // Simulate form submission
            const formData = new FormData(event.target);
            
            // Show success message
            alert('Lead assigned successfully!');
            
            // Close popup and reset form
            closeAssignLeadPopup();
            event.target.reset();
            
            // Refresh the home page to show new lead (in a real app, this would update the data)
            showPage('home');
        }

        function openLeadDetails(name, phone, date, status, email, category, notes) {
            // Update popup content
            document.getElementById('leadName').textContent = name;
            document.getElementById('leadPhone').textContent = phone;
            document.getElementById('leadDate').textContent = date;
            document.getElementById('leadEmail').textContent = email;
            document.getElementById('leadCategory').textContent = category;
            document.getElementById('leadNotes').textContent = notes;
            
            // Update initials
            const initials = name.split(' ').map(n => n[0]).join('');
            document.getElementById('leadInitials').textContent = initials;
            
            // Update status with appropriate styling
            const statusElement = document.getElementById('leadStatus');
            statusElement.textContent = status;
            statusElement.className = 'px-3 py-1 text-sm rounded-full';
            
            if (status === 'Active') {
                statusElement.classList.add('bg-green-100', 'text-green-800');
            } else if (status === 'Pending') {
                statusElement.classList.add('bg-yellow-100', 'text-yellow-800');
            } else if (status === 'Contacted') {
                statusElement.classList.add('bg-blue-100', 'text-blue-800');
            } else {
                statusElement.classList.add('bg-gray-100', 'text-gray-800');
            }
            
            // Show popup
            document.getElementById('leadDetailsPopup').classList.remove('hidden');
        }

        function closeLeadDetails() {
            document.getElementById('leadDetailsPopup').classList.add('hidden');
        }

        function callLead() {
            const phone = document.getElementById('leadPhone').textContent;
            alert(`Calling ${phone}...`);
        }

        function messageLead() {
            const email = document.getElementById('leadEmail').textContent;
            alert(`Opening email to ${email}...`);
        }

        function openDesktopLeadDetails(name, phone, date, status, email, category, notes) {
            // Update popup content
            document.getElementById('desktopLeadName').textContent = name;
            document.getElementById('desktopLeadPhone').textContent = phone;
            document.getElementById('desktopLeadDate').textContent = date;
            document.getElementById('desktopLeadEmail').textContent = email;
            document.getElementById('desktopLeadCategory').textContent = category;
            document.getElementById('desktopLeadNotes').textContent = notes;
            
            // Update initials
            const initials = name.split(' ').map(n => n[0]).join('');
            document.getElementById('desktopLeadInitials').textContent = initials;
            
            // Update status with appropriate styling
            const statusElement = document.getElementById('desktopLeadStatus');
            statusElement.textContent = status;
            statusElement.className = 'px-4 py-2 text-sm rounded-full font-medium';
            
            if (status === 'Active') {
                statusElement.classList.add('bg-green-100', 'text-green-800');
            } else if (status === 'Pending') {
                statusElement.classList.add('bg-yellow-100', 'text-yellow-800');
            } else if (status === 'Contacted') {
                statusElement.classList.add('bg-blue-100', 'text-blue-800');
            } else if (status === 'Converted') {
                statusElement.classList.add('bg-purple-100', 'text-purple-800');
            } else {
                statusElement.classList.add('bg-gray-100', 'text-gray-800');
            }
            
            // Show popup
            document.getElementById('desktopLeadDetailsPopup').classList.remove('hidden');
        }

        function closeDesktopLeadDetails() {
            document.getElementById('desktopLeadDetailsPopup').classList.add('hidden');
        }

        function callDesktopLead() {
            const phone = document.getElementById('desktopLeadPhone').textContent;
            alert(`Calling ${phone}...`);
        }

        function messageDesktopLead() {
            const email = document.getElementById('desktopLeadEmail').textContent;
            alert(`Opening email to ${email}...`);
        }

        function raiseTicket() {
            alert('Ticket creation form would open here. This feature allows users to submit support requests.');
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default for assign lead form
            const today = new Date().toISOString().split('T')[0];
            const dateInputs = document.querySelectorAll('input[type="date"]');
            dateInputs.forEach(input => {
                if (input.closest('form')) {
                    input.value = today;
                }
            });
            
            // Initialize desktop leads if on desktop
            if (window.innerWidth >= 768) {
                setTimeout(initDesktopLeads, 100);
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ad913db6860522',t:'MTc1OTg0MTg3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>


